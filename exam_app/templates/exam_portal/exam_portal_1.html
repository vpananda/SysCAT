{% extends "base.html" %}
{% load static %}

{% block body %}

{% block content %}

<head>  <style>    
  body
  {
      counter-reset: Serial;           /* Set the Serial counter to 0 */
  }
  card-body:first-child:before
  {
    counter-increment: Serial;      /* Increment the Serial counter */
    content: counter(Serial); /* Display the counter */
  }
</style>
</head>

<div class="row" id="r1">
<div class="col-md-9">
<div class="container" id="b1">

<div class="tab">
    {% for key,value in questions.items %}
    <button class="tablinks" onclick="openCity(event, '{{key}}')" {% if forloop.first %}id="defaultOpen"{% endif %}>{{key}}</button>
    {% endfor %}
    <button id="demo"></button>
</div>


  
{% for key,value in questions.items %}
<div id="{{key}}" class="tabcontent">
  <h3>{{key}}</h3>
  {% for i in value %}
  <div class="card {% if forloop.first %}active{% endif %}">
    <div class="card-body" id = "ques_card">
      <p>{{i.0}}</p>
      <input type="radio" id="option1" name="{{i.0}}" value="{{i.1}}">
      <label for="option1">{{i.1}}</label><br>
      <input type="radio" id="option2" name="{{i.0}}" value="{{i.2}}">
      <label for="option2">{{i.2}}</label><br>
      <input type="radio" id="option3" name="{{i.0}}" value="{{i.3}}">
      <label for="option3">{{i.3}}</label><br>
      <input type="radio" id="option4" name="{{i.0}}" value="{{i.4}}">
      <label for="option4">{{i.4}}</label><br>

      <button class="next-btn mt-5" onclick="nextQuestion(event)">Next</button>
    </div>
  </div>
  
  {% endfor %}
  
</div>
{% endfor %}


  
</div>
</div>
<div class="col-md-3">
    <div class="row" id="r2">
      <img src="{% url 'videostream' stream_path='video' %}" class="center">
    </div>
    <div class="row" id="r3">
      <h6>Welcome {{ request.session.username }}</h6>
      <h3>Instructions</h3>
        <ul>
          <li>You must use a functioning webcam and microphone</li>
          <li>No cell phones or other secondary devices in the room or test area</li>
          <li>Your desk/table must be clear or any materials except your test-taking device</li>
          <li>No one else can be in the room with you</li>
          <li>No talking </li>
          <li>The testing room must be well-lit and you must be clearly visible</li>
          <li>No dual screens/monitors</li>
          <li>Do not leave the camera </li>
          <li>No use of additional applications or internet</li>
        </ul>
    </div>
    {% comment %} <div class="row" id="r4">
        <p>world</p>
    </div> {% endcomment %}
</div>
</div>

{% endblock content %}

{% block scripts %}
<script type="text/javascript" src="{% static 'js/app.js' %}"></script>
<script>

 const questionCards = document.querySelectorAll('.tabcontent .card');

  // Hide all but the first question
  questionCards.forEach((card, index) => {
    if (index !== 0) {
      card.style.display = 'none';
    }
  }); 

  // Next button click event handler
  function nextQuestion(event) {
    event.preventDefault();
    // Get the active question card
    const activeCard = document.querySelector('.tabcontent .card.active');
    // Get the next question card
    const nextCard = activeCard.nextElementSibling;
    // If there is a next question card, show it and hide the current one
    if (nextCard) {
      activeCard.classList.remove('active');
      nextCard.classList.add('active');
      activeCard.style.display = 'none';
      nextCard.style.display = 'block';
    }
  }
</script>
{% endblock scripts %}


{% endblock body %}